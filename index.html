<html>
<head>
    <meta charset="UTF-8">
    <script src="https://code.jquery.com/jquery-2.2.4.js"></script>
    <link href="styles.css" type="text/css" rel="stylesheet">
</head>
<body>

    <div class="flex-container-wrap">
        <div class="flex-item-1 table-cell" style="min-width: 100px">
            <button id="row1Button" name="row1Button" class="">+</button>
            asd
        </div>
        <div class="flex-item-1 table-cell" style="min-width: 100px">
            asd
        </div>
        <div class="flex-item-1 table-cell" style="min-width: 100px">
            asd
        </div>
        <div class="flex-item-1 table-cell" style="min-width: 100px">
            asd
        </div>
        <div class="flex-item-1 table-cell" style="min-width: 100px">
            asd
        </div>
        <div class="flex-item-1 table-cell" style="min-width: 100px">
            asd
        </div>
        <div class="flex-item-1 table-cell" style="min-width: 100px">
            asd
        </div>
        <div class="flex-item-1 table-cell" style="min-width: 100px">
            asd
        </div>
    </div>
    <div class="flex-container-wrap">
        <div class="flex-item-1 table-cell" style="min-width: 100px">
            asd
        </div>
        <div class="flex-item-1 table-cell" style="min-width: 100px">
            asd
        </div>
        <div class="flex-item-1 table-cell" style="min-width: 100px">
            asd
        </div>
        <div class="flex-item-1 table-cell" style="min-width: 100px">
            asd
        </div>
        <div class="flex-item-1 table-cell" style="min-width: 100px">
            asd
        </div>
        <div class="flex-item-1 table-cell" style="min-width: 100px">
            asd
        </div>
        <div class="flex-item-1 table-cell" style="min-width: 100px">
            asd
        </div>
        <div class="flex-item-1 table-cell" style="min-width: 100px">
            asd
        </div>
    </div>

    <script>
        var detectWrap = function(className) {
            var wrappedItems = [];
            var prevItem = {};
            var currItem = {};
            var items = document.getElementsByClassName(className);

<<<<<<< HEAD
            for (var i = 0; i < items.length; i++) {
                currItem = items[i].getBoundingClientRect();
                if (prevItem && prevItem.top < currItem.top) {
                    wrappedItems.push(items[i]);
                }
                prevItem = currItem;
            };
=======
        <table border="1" width="200px;">
            <tbody>
                <tr>
                    <td>
                        1
                    </td>
                    <td>
                        2
                    </td>
                    <td>
                        3
                    </td>
                </tr>
                <tr>
                    <td>
                        1
                    </td>
                    <td>
                        2
                    </td>
                    <td>
                        3
                    </td>
                </tr>
            </tbody>
        </table>

        <script>
>>>>>>> b6fc8fbc195b3f037df8e4f0f510264a7ef0e539

            return wrappedItems;

        }

        window.onresize = function(event) {
            console.log('resize');
            let rows = $('.flex-container-wrap');
            for (let row of rows) {
                // Ячейки строки
                let cells = $(row).find('.table-cell');
                if (cells && cells.length) {
                    // Первая ячейка относительно которой стравниваем
                    let firstCell = cells[0];
                    let firstCellClientRect = firstCell.getBoundingClientRect();
                    for (let currentCell of cells) {
                        if (currentCell == firstCell) {
                            if ($(currentCell).hasClass('wrapped')) {
                                $(currentCell).removeClass('wrapped');
                            }
                        } else {
                            let currentCellClientRect = currentCell.getBoundingClientRect();
                            if (firstCellClientRect.top < currentCellClientRect.top) {
                                // Wraped
                                if (!$(currentCell).hasClass('wrapped')) {
                                    $(currentCell).addClass('wrapped');
                                }
                            } else {
                                if ($(currentCell).hasClass('wrapped')) {
                                    $(currentCell).removeClass('wrapped');
                                }
                            }
                        }
                    }
                }
            }
        };
    </script>
</body>
</html>
